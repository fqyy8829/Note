[toc]

# 列表的声明

&emsp;&emsp;列表是由一系列按照特定顺序排列的元素组成，可以将任何类型放置到列表中，并且这些元素之间可以没有任何关系。在Python中，使用<font color=red> *__方括号（[]）__* </font>表示列表，并且使用逗号分隔其中的元素： 

```python
names = ["Tom", "Jack", "Black"]
print(names)    # ['Tom', 'Jack', 'Black']
```

&emsp;&emsp;列表还可以嵌套列表：

```python
names = [["Tom", 18], ["Jack", 19]]
print(names)    # [['Tom', 18], ['Jack', 19]]
```

&emsp;&emsp;还可以使用<font color=red> *__list()函数__* </font>将其它类型转换成列表类型，<font color=red> *__但凡能被for循环遍历的数据类型都可以传给list()转换成列表类型__* </font>，list()会跟for循环一样遍历出数据类型中包含的每一个元素然后放到列表中：

```python
# 将字符串生成列表
print(list('wdad')) # 结果：['w', 'd', 'a', 'd']

# 使用列表生成列表
print(list([1,2,3])) # 结果：[1, 2, 3]

# 使用字典生成列表
print(list({"name":"jason","age":18})) #结果：['name', 'age']

# 使用元祖生成列表
print(list((1,2,3))) # 结果：[1, 2, 3]

# 使用集合生成列表
print(list({1,2,3,4})) # 结果：[1, 2, 3, 4]
```

> <font color=orange>*__注意：__* </font>列表通常包含多个元素，所以建议给列表起一个表示复数的名称。

## 创建数值列表 

&emsp;&emsp;列表非常适合用于存储数字集合，python提供了很多工具来高效地处理数字列表，可以使用range函数生成一系列的数： 

```python
for number in range(1, 6):     
  print(number, end=" ")  # 1 2 3 4 5  
```

&emsp;&emsp;也可以只传入一个值，默认将从0开始，比如：range(6) 表示 0 ～ 5 ：

```python
for number in range(6):     
  print(number, end=" ")  #  0 1 2 3 4 5  
```

&emsp;&emsp;也可以在使用range的时候传入第三个参数指定步长： 

```python
numbers = range(1, 6, 2)
for number in numbers:
    print(number, end=" ")

# 1 3 5 
```

&emsp;&emsp;可以使用range生成数字列表，这里需要使用list()方法将range()的结果进行转换： 

```python
numbers = list(range(6)) 
print(numbers)      # [0, 1, 2, 3, 4, 5] 
```

&emsp;&emsp;有几个专门用于处理数字列表的Python函数： 

+ <font color=orchid>**min：**</font> 求数字列表中的最小的数
+ <font color=orchid>**max：**</font> 求数字列表中的最大的数
+ <font color=orchid>**sum：**</font> 求数字列表中的所有数字的和

```python
numbers = list(range(6))  
print(min(numbers)) # 0 
print(max(numbers)) # 5 
print(sum(numbers)) # 15
```

# 成员运算in和not in

&emsp;&emsp;列表提供了<font color=red> *__in__* </font>和<font color=red> *__not in__* </font>来判断一个元素在不在列表中：

+ <font color=orchid>*__a in list：__*</font> a在list列表中，在则返回True，否则返回False
+ <font color=orchid>*__a not in list：__*</font> a是不是不在list列表中，不在则返回True，否则返回False

```python
# 声明一个列表
names = ["Tom", "Jack", "Helen"]

print("Tom" in names)   # True

print("Tom" not in names)   # False
```

# 访问列表元素

&emsp;&emsp;列表是有序集合，因此要访问列表的任意元素，只需要将该元素的位置（索引）告诉Python即可：

```python
names = ["Tom", "Jack", "Black"]
print(names[0])    # Tom
```

> <font color=orange>*__注意：__*</font> 列表的第一个元素的索引是0而不是1

&emsp;&emsp;Python还可以将索引指定为负数，此时可以让Python从列表的最后一个元素开始查找，比如：-1表示倒数第一个元素：

```python
names = ["Tom", "Jack", "Black"]
print(names[-1])    # Black
```

&emsp;&emsp;但是，如果索引超出了列表元素的范围则会报错：

```python
# 声明一个列表
names = ["Tom", "Jack", "Helen"]

# 超出范围则报错
print(names[3])
# IndexError: list index out of range


print(names[-4])
# IndexError: list index out of range
```

&emsp;&emsp;可以使用for循环遍历列表：

```python
names = ["Tom", "Black", "Jack"]
for name in names:
    print(name)
```

# 修改、添加和删除元素
## 修改元素

&emsp;&emsp;要修改列表元素，需要<font color=red> *__根据列表名和要修改的元素的索引进行修改__* </font>：

```python
names = ["Tom", "Jack", "Black"]
print(names)    # ['Tom', 'Jack', 'Black']
names[0] = "Jimmy"
print(names)    # ['Jimmy', 'Jack', 'Black']
```

&emsp;&emsp;如果指定的索引超出范围就会报错：

```python
# 声明一个列表
names = ["Tom", "Jack", "Helen"]
names[3] = "Kitty"

# IndexError: list assignment index out of range
```

## 添加元素
### append方法 

&emsp;&emsp;可以通过append方法在列表的末尾添加元素：

```python
names = ["Tom", "Jack", "Black"]
print(names)    # ['Tom', 'Jack', 'Black']
names.append("Jimmy")
print(names)    # ['Tom', 'Jack', 'Black', 'Jimmy']
```

### insert方法 

&emsp;&emsp;可以使用insert方法在列表的任意位置添加新元素，你需要指定新元素的索引和值：

```python
names = ["Tom", "Jack", "Black"]
print(names)    # ['Tom', 'Jack', 'Black']
names.insert(2, "Jimmy")
print(names)    # ['Tom', 'Jack', 'Jimmy', 'Black']
```

&emsp;&emsp;如果索引超出了范围，默认会在列表的开头（反向索引）或者结尾（正向索引）插入元素：

```python
# 声明一个列表
names = ["Tom", "Jack", "Helen"]
names.insert(10, "Kitty") # 超出范围，在尾部插入
names.insert(-10, "Black") # 超出范围，在头部插入
print(names)    # ['Black', 'Tom', 'Jack', 'Helen', 'Kitty']
```

### extend方法

&emsp;&emsp;extend()方法用于一次性在列表尾部添加多个元素：

```python
# 声明一个列表
names = ["Tom", "Jack", "Helen"]
names.extend(["Black", "Funny"])
names.extend("ass")

print(names) # ['Tom', 'Jack', 'Helen', 'Black', 'Funny', 'a', 's', 's']
```

## 删除元素
### 使用del删除元素 

&emsp;&emsp;如果知道要删除的元素在列表中的位置，可以使用del语句：

```python
names = ["Tom", "Jack", "Black"]
print(names)    # ['Tom', 'Jack', 'Black']
del names[1]
print(names)    # ['Tom', 'Black']
```

&emsp;&emsp;使用del可以删除任意位置处的列表元素，条件是需要知道其索引值，如果索引超出了范围就会报错：

```python
# 声明一个列表
names = ["Tom", "Jack", "Helen"]
del names[3]

# IndexError: list assignment index out of range
```

### 使用方法pop删除元素

&emsp;&emsp;有时候你需要将元素从列表中删除并接着使用它的值，这时候就可以使用pop方法，默认它会删除列表末尾的元素，并将删除的元素返回 ：

```python
names = ["Tom", "Jack", "Black"] 
print(names)    # ['Tom', 'Jack', 'Black'] 
pop_name = names.pop() 
print(names)    # ['Tom', 'Jack'] 
print(pop_name) # Black 
```

&emsp;&emsp;也可以使用pop删除任意位置的元素，只需要在方法中传入删除元素的索引即可：

```python
names = ["Tom", "Jack", "Black"] 
print(names)    # ['Tom', 'Jack', 'Black'] 
pop_name = names.pop(1) 
print(names)    # ['Tom', 'Black'] 
print(pop_name) # Jack 
```

&emsp;&emsp;如果指定的索引超出了范围就会报错：

```python
# 声明一个列表
names = ["Tom", "Jack", "Helen"]
names.pop(3)

# IndexError: pop index out of range
```

### remove方法

&emsp;&emsp;有时候你不知道要从列表中删除的值所在的位置，如果只知道需要删除的元素的值，可使用方法remove：

```python
names = ["Tom", "Jack", "Black"] 
print(names)    # ['Tom', 'Jack', 'Black'] 
names.remove("Jack") 
print(names)    # ['Tom', 'Black'] 
```

&emsp;&emsp;如果指定删除的元素不在列表中就会报错：

```python
# 声明一个列表
names = ["Tom", "Jack", "Helen"]
names.remove("Black")

# ValueError: list.remove(x): x not in list
```

&emsp;&emsp;方法remove只会删除第一个指定的值，如果要删除的值在列表中出现多次，就需要使用循环来删除：

```python
# 声明一个列表
names = ["Tom", "Jack", "Helen", "Tom"]

while "Tom" in names:
    names.remove("Tom")

print(names)
```

# 组织列表
## 使用sort()方法对列表永久排序

&emsp;&emsp;sort方法能够较为轻松地对列表进行排序，会按照默认的方式进行正向排序，比如字符串按照字母的顺序：

```python
names = ["Tom", "Black", "Jack"] 
print(names) # ['Tom', 'Black', 'Jack'] 
names.sort() 
print(names)    # ['Black', 'Jack', 'Tom'] 
```

&emsp;&emsp;如果想要反向排序，可以传入reverse=True的参数：

```python
names = ["Tom", "Black", "Jack"] 
print(names) # ['Tom', 'Black', 'Jack'] 
names.sort(reverse=True) 
print(names)    # ['Tom', 'Jack', 'Black'] 
```

> <font color=orange>*__注意：__*</font> 该方法会修改原有的列表

&emsp;&emsp;排序时列表元素之间必须是相同数据类型，不可混搭，否则报错：

```python
# 声明一个列表
names = ["Tom", "Jack", "Helen", "Tom", 12]
names.sort()

# TypeError: '<' not supported between instances of 'int' and 'str'
```

&emsp;&emsp;我们常用的是数字类型直接比较大小，但其实字符串、列表等都可以比较大小，原理相同：<font color=red> *__都是依次比较对应位置的元素的大小，如果分出大小，则无需比较下一个元素__* </font>：

```python
l1 = [1, 2, 3]
l2 = [2, 3]

print(l1 > l2) # False
```

&emsp;&emsp;字符之间的大小取决于它们在ASCII表中的先后顺序，越往后越大：

```python
s1='abc'
s2='az'
print(s2 > s1) # s1与s2的第一个字符没有分出大小，但第二个字符'z'>'b',所以s2>s1成立 True
```

## 使用sorted()对列表临时排序 

&emsp;&emsp;如果想要保持原有的列表顺序不变（不修改原来的列表），可以使用sorted方法，该方法将会返回排序后的列表： 

```python
names = ["Tom", "Black", "Jack"] 
print(names) # ['Tom', 'Black', 'Jack'] 
reverse_names = sorted(names) 
print(names) # ['Tom', 'Black', 'Jack'] 
print(reverse_names)    # ['Black', 'Jack', 'Tom'] 
```

&emsp;&emsp;也可以传入参数指定反向排序： 

```python
names = ["Tom", "Black", "Jack"] 
print(names) # ['Tom', 'Black', 'Jack'] 
reverse_names = sorted(names, reverse=True) 
print(names) # ['Tom', 'Black', 'Jack'] 
print(reverse_names)    # ['Tom', 'Jack', 'Black'] 
```

## 反转列表

&emsp;&emsp;可以使用reverse反转列表：

```python
names = ["Tom", "Black", "Jack"] 
print(names) # ['Tom', 'Black', 'Jack'] 
names.reverse() 
print(names) # ['Jack', 'Black', 'Tom'] 
```

> <font color=orange>*__注意：__*</font>  该方法会改变原来的列表 

## 获取列表的长度

&emsp;&emsp;可以使用函数len()获取列表的长度：

```python
names = ["Tom", "Black", "Jack"] 
print(len(names))   # 3
```

# 列表解析

&emsp;&emsp;列表解析是将for循环和创建新元素的代码合并在一起，并自动附加新元素： 

```python
numbers = list(range(6)) 
new_numbers = [number**2 for number in numbers] 
print(new_numbers)  # [0, 1, 4, 9, 16, 25] 
```

&emsp;&emsp;其中表达式用于生成要存储在列表中的值，for循环用于向表达式提供值 。

# 使用列表的一部分 

&emsp;&emsp;切片用来处理列表的部分元素，要创建切片可能需要使用第一个元素和最后一个元素的索引（<font color=red> *__顾头不顾尾__* </font>）：

```python
numbers = list(range(6)) 
print(numbers[1 : 4])   # [1, 2, 3] 
```

&emsp;&emsp;可以省略起始位置或者结束位置：

+ 如果没有起始位置，则从列表头部开始
+ 如果没有结束位置，则到列表的结束
+ 都省略则表示复制整个列表

```python
numbers = list(range(6))  
print(numbers[1:])   # [1, 2, 3, 4, 5]  
print(numbers[: 4]) # [0, 1, 2, 3] 

copy_number = numbers[:] 
print(copy_number)  # [0, 1, 2, 3, 4, 5] 
print(numbers)      # [0, 1, 2, 3, 4, 5] 
```

&emsp;&emsp;也可以使用负号，表示从右到左：

```python
numbers = list(range(6))  
print(numbers[-3:])   # [3, 4, 5] 
```

&emsp;&emsp;还可以指定第三个值，表示步长： 

```python
numbers = list(range(6)) 
print(numbers[::2])   # [0, 2, 4] 
```

&emsp;&emsp;步长也可以指定为负数，表示反向步长（从右向左取值）：

```python
numbers = list(range(6))
print(numbers[::-1])    # [5, 4, 3, 2, 1, 0]
```